appId: com.wangfenghuan.w-next-ai-drawio
productName: W-Next AI Drawio
directories:
  output: dist
  buildResources: build
files:
  - out/**/*
  - electron/**/*
  - public/**/*
  - package.json
  - node_modules/**/*
mac:
  category: public.app-category.productivity
  target:
    - target: dmg
      arch: arm64
    - target: zip
      arch: arm64
  icon: build/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  publish: null
  compression: maximum
  darkModeSupport: true
  identity: null  # Set this for code signing: "Developer ID Application: Your Name (TEAMID)"

# APPLE SILICON (ARM64) SPECIFIC CONFIG
arm64:
  appId: com.wangfenghuan.w-next-ai-drawio.arm64

# INTEL (X64) SPECIFIC CONFIG (if needed)
x64:
  appId: com.wangfenghuan.w-next-ai-drawio.x64
dmg:
  title: W-Next AI Drawio ${version}
  artifactName: W-Next-AI-Drawio-${version}-${arch}.${ext}
  sign: true
win:
  target:
    - target: nsis
      arch: [x64, arm64]
    - target: portable
      arch: [x64, arm64]
  icon: build/icon.ico
linux:
  target:
    - AppImage
    - deb
  category: Office
  icon: build/icon.png
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: always
  artifactName: W-Next-AI-Drawio-${version}-Setup.${ext}
portable:
  artifactName: W-Next-AI-Drawio-${version}-Portable.${ext}
appex:
  hardenedRuntime: true
asar: true
nodeGypRebuild: false
buildDependenciesFromSource: false
npmRebuild: false
publish:
  provider: generic
  url: null
